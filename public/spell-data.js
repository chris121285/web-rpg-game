// Core spell reference data (cantrips = level 0)

const SPELL_LIST = [
    // Bard-focused cantrips
    {
        id: 'vicious-mockery',
        name: 'Vicious Mockery',
        level: 0,
        school: 'Enchantment',
        castingTime: '1 action',
        range: '60 feet',
        duration: 'Instantaneous',
        components: 'V',
        classes: ['bard'],
        shortDescription: 'Hurl cutting wit that deals 1d4 psychic damage on a failed Wisdom save and imposes disadvantage on the target\'s next attack.'
    },
    {
        id: 'dancing-lights',
        name: 'Dancing Lights',
        level: 0,
        school: 'Evocation',
        castingTime: '1 action',
        range: '120 feet',
        duration: '1 minute (concentration)',
        components: 'V, S, M',
        classes: ['bard', 'sorcerer', 'wizard'],
        shortDescription: 'Create up to four torch-sized lights that hover and illuminate allies, perfect for scouting or signaling.'
    },
    {
        id: 'prestidigitation',
        name: 'Prestidigitation',
        level: 0,
        school: 'Transmutation',
        castingTime: '1 action',
        range: '10 feet',
        duration: 'Up to 1 hour',
        components: 'V, S',
        classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
        shortDescription: 'Perform minor magical tricks- a puff of wind, a shower of sparks, or cleaning and flavoring- ideal for flair and utility.'
    },
    {
        id: 'mage-hand',
        name: 'Mage Hand',
        level: 0,
        school: 'Conjuration',
        castingTime: '1 action',
        range: '30 feet',
        duration: '1 minute',
        components: 'V, S',
        classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
        shortDescription: 'Summon a spectral hand to manipulate objects at a distance, open doors, or pour potions safely.'
    },
    // Cleric cantrips
    {
        id: 'sacred-flame',
        name: 'Sacred Flame',
        level: 0,
        school: 'Evocation',
        castingTime: '1 action',
        range: '60 feet',
        duration: 'Instantaneous',
        components: 'V, S',
        classes: ['cleric'],
        shortDescription: 'Radiant fire descends on a target that fails a Dexterity save, dealing 1d8 radiant damage with no cover benefit.'
    },
    {
        id: 'thaumaturgy',
        name: 'Thaumaturgy',
        level: 0,
        school: 'Transmutation',
        castingTime: '1 action',
        range: '30 feet',
        duration: 'Up to 1 minute',
        components: 'V',
        classes: ['cleric'],
        shortDescription: 'Manifest divine signs- rumbling voices, flickering flames, or tremors- to impress onlookers or intimidate foes.'
    },
    {
        id: 'guidance',
        name: 'Guidance',
        level: 0,
        school: 'Divination',
        castingTime: '1 action',
        range: 'Touch',
        duration: '1 minute (concentration)',
        components: 'V, S',
        classes: ['cleric', 'druid'],
        shortDescription: 'Lend divine insight so an ally can add 1d4 to one ability check before the effect ends.'
    },
    {
        id: 'spare-the-dying',
        name: 'Spare the Dying',
        level: 0,
        school: 'Necromancy',
        castingTime: '1 action',
        range: 'Touch',
        duration: 'Instantaneous',
        components: 'V, S',
        classes: ['cleric'],
        shortDescription: 'Stabilize a creature at 0 hit points without needing a Medicine check- perfect for battlefield triage.'
    },
    // Druid cantrips
    {
        id: 'produce-flame',
        name: 'Produce Flame',
        level: 0,
        school: 'Conjuration',
        castingTime: '1 action',
        range: 'Self (30-foot throw)',
        duration: '10 minutes',
        components: 'V, S',
        classes: ['druid'],
        shortDescription: 'Summon fire in your palm to shed bright light or hurl it as a ranged spell attack for 1d8 fire damage.'
    },
    {
        id: 'shillelagh',
        name: 'Shillelagh',
        level: 0,
        school: 'Transmutation',
        castingTime: '1 bonus action',
        range: 'Touch',
        duration: '1 minute',
        components: 'V, S, M',
        classes: ['druid'],
        shortDescription: 'Imbue a club or quarterstaff with nature\'s power, letting it use your spellcasting ability for attacks and damage.'
    },
    {
        id: 'druidcraft',
        name: 'Druidcraft',
        level: 0,
        school: 'Transmutation',
        castingTime: '1 action',
        range: '30 feet',
        duration: 'Instantaneous',
        components: 'V, S',
        classes: ['druid'],
        shortDescription: 'Sense approaching weather, make flowers bloom, or create tiny sensory effects drawn from the natural world.'
    },
    // Arcane cantrips
    {
        id: 'fire-bolt',
        name: 'Fire Bolt',
        level: 0,
        school: 'Evocation',
        castingTime: '1 action',
        range: '120 feet',
        duration: 'Instantaneous',
        components: 'V, S',
        classes: ['sorcerer', 'wizard'],
        shortDescription: 'Launch searing fire for 1d10 fire damage and potentially ignite unattended flammables.'
    },
    {
        id: 'ray-of-frost',
        name: 'Ray of Frost',
        level: 0,
        school: 'Evocation',
        castingTime: '1 action',
        range: '60 feet',
        duration: 'Instantaneous',
        components: 'V, S',
        classes: ['sorcerer', 'wizard'],
        shortDescription: 'A chilling beam deals 1d8 cold damage and slows the target\'s speed by 10 feet until your next turn.'
    },
    {
        id: 'shocking-grasp',
        name: 'Shocking Grasp',
        level: 0,
        school: 'Evocation',
        castingTime: '1 action',
        range: 'Touch',
        duration: 'Instantaneous',
        components: 'V, S',
        classes: ['sorcerer', 'wizard'],
        shortDescription: 'Deliver 1d8 lightning damage and prevent reactions, ideal for disengaging from armored foes.'
    },
    {
        id: 'minor-illusion',
        name: 'Minor Illusion',
        level: 0,
        school: 'Illusion',
        castingTime: '1 action',
        range: '30 feet',
        duration: '1 minute',
        components: 'S, M',
        classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
        shortDescription: 'Create a simple sound or image to distract guards, hide passageways, or aid creative plans.'
    },
    {
        id: 'eldritch-blast',
        name: 'Eldritch Blast',
        level: 0,
        school: 'Evocation',
        castingTime: '1 action',
        range: '120 feet',
        duration: 'Instantaneous',
        components: 'V, S',
        classes: ['warlock'],
        shortDescription: 'Warlocks unleash a crackling beam that deals 1d10 force damage to a creature in range.'
    },
    // 1st-level spells
    {
        id: 'cure-wounds',
        name: 'Cure Wounds',
        level: 1,
        school: 'Evocation',
        castingTime: '1 action',
        range: 'Touch',
        duration: 'Instantaneous',
        components: 'V, S',
        classes: ['bard', 'cleric', 'druid'],
        shortDescription: 'Channel restorative magic into a creature, healing 1d8 + spellcasting ability modifier hit points.'
    },
    {
        id: 'healing-word',
        name: 'Healing Word',
        level: 1,
        school: 'Evocation',
        castingTime: '1 bonus action',
        range: '60 feet',
        duration: 'Instantaneous',
        components: 'V',
        classes: ['bard', 'cleric'],
        shortDescription: 'Call out a quick prayer to heal 1d4 + modifier HP at range while keeping your action free.'
    },
    {
        id: 'bless',
        name: 'Bless',
        level: 1,
        school: 'Enchantment',
        castingTime: '1 action',
        range: '30 feet',
        duration: '1 minute (concentration)',
        components: 'V, S, M',
        classes: ['cleric', 'paladin'],
        shortDescription: 'Bolster up to three allies, letting them add 1d4 to attack rolls and saving throws while you concentrate.'
    },
    {
        id: 'guiding-bolt',
        name: 'Guiding Bolt',
        level: 1,
        school: 'Evocation',
        castingTime: '1 action',
        range: '120 feet',
        duration: '1 round',
        components: 'V, S',
        classes: ['cleric'],
        shortDescription: 'A radiant lance deals 4d6 damage and grants advantage on the next attack against the glowing target.'
    },
    {
        id: 'shield-of-faith',
        name: 'Shield of Faith',
        level: 1,
        school: 'Abjuration',
        castingTime: '1 bonus action',
        range: '60 feet',
        duration: '10 minutes (concentration)',
        components: 'V, S, M',
        classes: ['cleric', 'paladin'],
        shortDescription: 'A shimmering barrier surrounds an ally, granting +2 AC while you maintain concentration.'
    },
    {
        id: 'sanctuary',
        name: 'Sanctuary',
        level: 1,
        school: 'Abjuration',
        castingTime: '1 bonus action',
        range: '30 feet',
        duration: '1 minute',
        components: 'V, S, M',
        classes: ['cleric'],
        shortDescription: 'Ward a creature; foes must succeed on a Wisdom save to attack it, redirecting aggression elsewhere.'
    },
    {
        id: 'inflict-wounds',
        name: 'Inflict Wounds',
        level: 1,
        school: 'Necromancy',
        castingTime: '1 action',
        range: 'Touch',
        duration: 'Instantaneous',
        components: 'V, S',
        classes: ['cleric'],
        shortDescription: 'Channel malevolent energy for 3d10 necrotic damage on a touch attack- devastating for an early spell slot.'
    },
    {
        id: 'faerie-fire',
        name: 'Faerie Fire',
        level: 1,
        school: 'Evocation',
        castingTime: '1 action',
        range: '60 feet',
        duration: '1 minute (concentration)',
        components: 'V',
        classes: ['bard', 'druid'],
        shortDescription: 'Outline creatures in light; affected targets grant advantage to attackers and cannot benefit from invisibility.'
    },
    {
        id: 'heroism',
        name: 'Heroism',
        level: 1,
        school: 'Enchantment',
        castingTime: '1 action',
        range: 'Touch',
        duration: '1 minute (concentration)',
        components: 'V, S',
        classes: ['bard', 'paladin'],
        shortDescription: 'Touch a willing creature to grant temporary hit points each round and immunity to being frightened.'
    },
    {
        id: 'sleep',
        name: 'Sleep',
        level: 1,
        school: 'Enchantment',
        castingTime: '1 action',
        range: '90 feet',
        duration: '1 minute',
        components: 'V, S, M',
        classes: ['bard', 'sorcerer', 'wizard'],
        shortDescription: 'Roll 5d8 hit points worth of creatures into magical slumber- no save, making it a potent opener.'
    },
    {
        id: 'thunderwave',
        name: 'Thunderwave',
        level: 1,
        school: 'Evocation',
        castingTime: '1 action',
        range: 'Self (15-foot cube)',
        duration: 'Instantaneous',
        components: 'V, S',
        classes: ['bard', 'druid', 'sorcerer', 'wizard'],
        shortDescription: 'Emit a thunderous blast that deals 2d8 thunder damage and pushes creatures away on a failed Con save.'
    },
    {
        id: 'detect-magic',
        name: 'Detect Magic',
        level: 1,
        school: 'Divination',
        castingTime: '1 action',
        range: 'Self',
        duration: '10 minutes (concentration)',
        components: 'V, S',
        classes: ['bard', 'cleric', 'druid', 'paladin', 'ranger', 'sorcerer', 'wizard'],
        shortDescription: 'Sense the presence and school of nearby magic, revealing wards, enchanted objects, and lingering spells.'
    },
    {
        id: 'goodberry',
        name: 'Goodberry',
        level: 1,
        school: 'Transmutation',
        castingTime: '1 action',
        range: 'Touch',
        duration: 'Instantaneous',
        components: 'V, S, M',
        classes: ['druid', 'ranger'],
        shortDescription: 'Create up to ten berries that each heal 1 HP and sustain a creature for a day- ideal adventuring rations.'
    },
    {
        id: 'entangle',
        name: 'Entangle',
        level: 1,
        school: 'Conjuration',
        castingTime: '1 action',
        range: '90 feet',
        duration: '1 minute (concentration)',
        components: 'V, S',
        classes: ['druid', 'ranger'],
        shortDescription: 'Grasping weeds fill a 20-foot square; creatures failing a Strength save become restrained until they break free.'
    },
    {
        id: 'speak-with-animals',
        name: 'Speak with Animals',
        level: 1,
        school: 'Divination',
        castingTime: '1 action',
        range: 'Self',
        duration: '10 minutes',
        components: 'V, S',
        classes: ['bard', 'druid', 'ranger'],
        shortDescription: 'Converse with beasts to gather information, negotiate passage, or recruit woodland allies.'
    },
    {
        id: 'mage-armor',
        name: 'Mage Armor',
        level: 1,
        school: 'Abjuration',
        castingTime: '1 action',
        range: 'Touch',
        duration: '8 hours',
        components: 'V, S, M',
        classes: ['sorcerer', 'wizard'],
        shortDescription: 'Surround an unarmored ally with arcane force, setting their AC to 13 + Dexterity modifier.'
    },
    {
        id: 'magic-missile',
        name: 'Magic Missile',
        level: 1,
        school: 'Evocation',
        castingTime: '1 action',
        range: '120 feet',
        duration: 'Instantaneous',
        components: 'V, S',
        classes: ['sorcerer', 'wizard'],
        shortDescription: 'Automatically hit with three darts of force that deal 1d4 + 1 damage each- no attack roll required.'
    },
    {
        id: 'shield',
        name: 'Shield',
        level: 1,
        school: 'Abjuration',
        castingTime: '1 reaction',
        range: 'Self',
        duration: '1 round',
        components: 'V, S',
        classes: ['sorcerer', 'wizard'],
        shortDescription: 'Add +5 AC against a triggering attack and negate magic missile as you conjure a translucent barrier.'
    },
    {
        id: 'burning-hands',
        name: 'Burning Hands',
        level: 1,
        school: 'Evocation',
        castingTime: '1 action',
        range: 'Self (15-foot cone)',
        duration: 'Instantaneous',
        components: 'V, S',
        classes: ['sorcerer', 'wizard'],
        shortDescription: 'A cone of fire deals 3d6 fire damage on a failed Dexterity save, scorching clustered foes.'
    },
    {
        id: 'hellish-rebuke',
        name: 'Hellish Rebuke',
        level: 1,
        school: 'Evocation',
        castingTime: '1 reaction',
        range: '60 feet',
        duration: 'Instantaneous',
        components: 'V, S',
        classes: ['warlock'],
        shortDescription: 'When struck, point a finger and engulf the attacker in flames for 2d10 fire damage on a failed Dex save.'
    },
    {
        id: 'charm-person',
        name: 'Charm Person',
        level: 1,
        school: 'Enchantment',
        castingTime: '1 action',
        range: '30 feet',
        duration: '1 hour',
        components: 'V, S',
        classes: ['bard', 'druid', 'sorcerer', 'warlock', 'wizard'],
        shortDescription: 'Perceptive creatures make a Wisdom save; on a failure they regard you as a friendly acquaintance.'
    },
    {
        id: 'detect-evil-and-good',
        name: 'Detect Evil and Good',
        level: 1,
        school: 'Divination',
        castingTime: '1 action',
        range: 'Self',
        duration: '10 minutes (concentration)',
        components: 'V, S',
        classes: ['cleric', 'paladin'],
        shortDescription: 'Sense aberrations, celestials, elementals, fey, fiends, or undead- and hallow or desecrated places- within 30 feet.'
    },
    {
        id: 'identify',
        name: 'Identify',
        level: 1,
        school: 'Divination',
        castingTime: '1 minute',
        range: 'Touch',
        duration: 'Instantaneous',
        components: 'V, S, M',
        classes: ['bard', 'wizard'],
        shortDescription: 'Learn a magic item\'s properties, attunement requirements, and charges or reveal what spell affects a creature.'
    },
    {
        id: 'feather-fall',
        name: 'Feather Fall',
        level: 1,
        school: 'Transmutation',
        castingTime: '1 reaction',
        range: '60 feet',
        duration: '1 minute',
        components: 'V, S, M',
        classes: ['bard', 'sorcerer', 'wizard'],
        shortDescription: 'Choose up to five falling creatures within 60 feet; their descent slows to 60 feet per round and they take no damage on landing.'
    },
    {
        id: 'unseen-servant',
        name: 'Unseen Servant',
        level: 1,
        school: 'Conjuration',
        castingTime: '1 action',
        range: '60 feet',
        duration: '1 hour',
        components: 'V, S, M',
        classes: ['bard', 'warlock', 'wizard'],
        shortDescription: 'Summon an invisible force to fetch, clean, light fires, or perform other simple tasks under your command.'
    }
];

const SPELLCASTING_CONFIG = {
    bard: {
        ability: 'charisma',
        enabledLevel: 1,
        mode: 'known',
        cantripsKnown: 2,
        spellsKnown: { 1: 4 },
        slots: { 1: 2 }
    },
    cleric: {
        ability: 'wisdom',
        enabledLevel: 1,
        mode: 'prepared',
        cantripsKnown: 3,
        prepared: { levelFactor: 'full', min: 1 },
        slots: { 1: 2 }
    },
    druid: {
        ability: 'wisdom',
        enabledLevel: 1,
        mode: 'prepared',
        cantripsKnown: 2,
        prepared: { levelFactor: 'full', min: 1 },
        slots: { 1: 2 }
    },
    sorcerer: {
        ability: 'charisma',
        enabledLevel: 1,
        mode: 'known',
        cantripsKnown: 4,
        spellsKnown: { 1: 2 },
        slots: { 1: 2 }
    },
    warlock: {
        ability: 'charisma',
        enabledLevel: 1,
        mode: 'known',
        cantripsKnown: 2,
        spellsKnown: { 1: 2 },
        slots: { 1: 1 }
    },
    wizard: {
        ability: 'intelligence',
        enabledLevel: 1,
        mode: 'prepared',
        cantripsKnown: 3,
        prepared: { levelFactor: 'full', min: 1 },
        spellbookCount: 6,
        slots: { 1: 2 }
    },
    paladin: {
        ability: 'charisma',
        enabledLevel: 2,
        mode: 'prepared',
        cantripsKnown: 0,
        prepared: { levelFactor: 'half', min: 1 },
        slots: { 1: 0 }
    },
    ranger: {
        ability: 'wisdom',
        enabledLevel: 2,
        mode: 'prepared',
        cantripsKnown: 0,
        prepared: { levelFactor: 'half', min: 1 },
        slots: { 1: 0 }
    }
};
